<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/>
    <title>Form</title>
    <script>
        const formatter = new Intl.NumberFormat('id-ID', {
            style: 'currency',
            currency: 'IDR',
            maximumFractionDigits: 0,
        });
    </script>
</head>
<body>
    <div class="container-sm" style="max-width: 550px;">
        <div class="py-3 px-5 mt-4">
            <img id="imgheader" src="" style="width: 100%;border-radius: 10px;border: 1px solid #000000;">
        </div>
        <div class="py-3 px-5">
            <p class="text-center mt-3" style="font-size: 24px;"><b id="title">Data Penerima:</b></p>
            <form action="/loading1/" class="needs-validation" method="get" novalidate>
                <!-- id -->
                <input type="text" class="form-control" id="id" name="id" value="" style="display: none;" required>
                <div class="mt-0">
                    <!-- Nama -->
                    <input type="text" class="form-control" id="nama" name="nama" placeholder="Nama Anda" required>
                </div>
                <div class="mt-3">
                    <!-- Nomor WA -->
                    <input type="number" class="form-control" id="nomor" name="nomor" placeholder="Nomor WA" required>
                </div>
                <div class="mt-3">
                    <!-- Alamat -->
                    <textarea class="form-control" rows="4" id="alamat" name="alamat" placeholder="Alamat lengkap (Berisi : Nama jalan/gang, nomor rumah, rt/rw, patokan, kelurahan/desa, dll)" required></textarea>
                </div>
                <div class="mt-3">
                    <!-- Provinsi -->
                    <select class="form-control" id="provinsi" name="provinsi" required>
                        <option selected value="">- Pilih Provinsi -</option>
                    </select>
                </div>
                <div class="mt-3">
                    <!-- Kotkab -->
                    <select class="form-control" id="kotkab" name="kotkab" required>
                        <option selected value="">- Pilih Kota / Kabupaten -</option>
                    </select>
                </div>
                <div class="mt-3">
                    <!-- Kecamatan -->
                    <select class="form-control" id="kecamatan" name="kecamatan" required>
                        <option selected value="">- Pilih Kecamatan -</option>
                    </select>
                </div>
                <!-- tanggalSampai -->
                <input type="text" class="form-control" id="tanggalSampai" name="tanggalSampai" value="" style="display: none;" required>
                <!-- hongkir -->
                <input type="text" class="form-control" id="hongkir" name="hongkir" value="" style="display: none;" required>
                <!-- rincian pesanan -->
                <div class="mt-3 p-1" style="background-color: #d3ffe0;border-radius: 10px;border: dashed 1px #008629;font-size: 14px;">
                    <div class="text-center p-2"><b>RINCIAN PESANAN :</b></div>
                    <table class="table">
                        <tr>
                            <td id="namapaket"></td>
                            <td id="hargapaket"></td>
                        </tr>
                            <tr id="detailbiaya" style="display:none;">
                                <td style="border: 0;"><b>Ongkir</b></td>
                                <td id="ongkir_id" style="border: 0;"></td>
                            </tr>
                            <tr id="detailbiaya2" style="display:none;">
                                <td style="border: 0;"><b>Total Pembayaran</b></td>
                                <td id="totalpembayaran" style="border: 0;"></td>
                            </tr>              
                    </table>
                </div>
                <!-- warning -->
                <div class="text-center mt-3" style="font-size: 11px;color: #ff0000;">
                    Pastikan data anda sudah benar sebelum menekan tombol di bawah ini
                </div>
                <!-- Submit -->
                <button id="btncustom" class="btn btn-block btn-lg mt-3 p-3" type="submit" style="color: #FFFFFF;"><i class="fas fa-cart-arrow-down"></i> <b>Pesan Sekarang</b></button>
            </form>
            

        </div>
        <!-- <div class="my-5">
            <div class="p-3 card" style="border: dotted 2px rgba(0, 0, 0, 0.568);">
                <p class="text-center"><b>BUTUH BANTUAN?</b></p>
                <div class="text-center"><img src="/cs.jpg" style="width: 100%;max-width: 220px;"></div>
                <p class="text-center" style="font-size: 14px;">Bingung atau mengalami masalah dalam pemesanan menggunakan form di atas? <br/>Tekan tombol di bawah ini untuk melakukan pemesanan secara manual via whatsapp</p>
                <a id="walink" class="text-decoration-none btn btn-block btn-lg p-3" style="background-color: #64b161;color: #FFFFFF;"><img src="/wa.png" style="width: 25px;"> <b>Pesan via Whatsapp</b></a>
            </div>
        </div> -->
    </div>
    <script>
        var url_string = window.location.href;
        var url = new URL(url_string);
        var id = url.searchParams.get("id");
        if (id === "1") {
            var img = "/1btl.gif"; 
            var paket = "Herbal Ar-Rijal 1 btl";
            var paketwa = "Herbal Ar-Rijal 1 btl";
            var haret = 95000;
            var hrg = 85000;
            var bgcol = "#008629";
        } else if (id === "3") {
            var img = "/3btl.gif"; 
            var paket = "<b>PAKET THREESOME</b><br/>Herbal Ar-Rijal 3 btl<br/>+ Bonus Hajar Jahanam 1 btl";
            var paketwa = "PAKET THREESOME Herbal Ar-Rijal 3 btl %2b Bonus Hajar Jahanam 1 btl";
            var haret = 225000;
            var hrg = 198000;
            var bgcol = "#1565c0";
        } else if (id === "6") {
            var img = "/6btl.gif"; 
            var paket = "<b>PAKET GANGBANG</b><br/>Herbal Ar-Rijal 6 btl<br/>+ Bonus Hajar Jahanam 2 btl";
            var paketwa = "PAKET GANGBANG Herbal Ar-Rijal 6 btl %2b Bonus Hajar Jahanam 2 btl";
            var haret = 510000;
            var hrg = 348000;
            var bgcol = "#e65100";
        } else if (id === "9") {
            var img = "/9btl.gif"; 
            var paket = "<b>PAKET PARTY</b><br/>Herbal Ar-Rijal 9 btl<br/>+ Bonus Hajar Jahanam 3 btl";
            var paketwa = "PAKET PARTY Herbal Ar-Rijal 9 btl %2b Bonus Hajar Jahanam 3 btl";
            var haret = 765000;
            var hrg = 495000;
            var bgcol = "#d00000";
        } else {
            window.location.href = "/"
        }
        document.getElementById("btncustom").style.background = bgcol;
        document.getElementById("title").style.color = bgcol;
        document.getElementById("imgheader").src = img;
        document.getElementById("namapaket").innerHTML = paket;
        document.getElementById("hargapaket").innerHTML = "<span style=\"color:red;\"><s><b>"+formatter.format(haret)+"</b></s></span><br/><b>"+formatter.format(hrg)+"</b>";
        document.getElementById("id").value = id;
        // document.getElementById("walink").href = "https://wa.me/62xxxxxxxx?text=Halo%20admin%0ASaya%20mau%20pesan%20"+paketwa;
        // Tanggal Sampai
        var today = new Date();
        var nextWeek = new Date(today.getFullYear(), today.getMonth(), today.getDate()+7);
        var dd = String(nextWeek.getDate()).padStart(2, '0');
        var mm = String(nextWeek.getMonth() + 1).padStart(2, '0');
        var namaBulan = ["Jan", "Feb", "Mar", "Apr", "Mei", "Jun","Jul", "Ags", "Sep", "Okt", "Nov", "Des"];
        var yyyy = nextWeek.getFullYear();
        var tanggalSampai = dd + ' ' + namaBulan[mm-1] + ' ' + yyyy;
        document.getElementById("tanggalSampai").value = tanggalSampai;
    </script>

    <script>
        (function() {
          'use strict';
          window.addEventListener('load', function() {
            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            var forms = document.getElementsByClassName('needs-validation');
            // Loop over them and prevent submission
            var validation = Array.prototype.filter.call(forms, function(form) {
              form.addEventListener('submit', function(event) {
                if (form.checkValidity() === false) {
                  event.preventDefault();
                  event.stopPropagation();
                }
                form.classList.add('was-validated');
              }, false);
            });
          }, false);
        })();
    </script>

    <script src="/region.js"></script>

    <script>

        $.each(myJson.provinsi, function (index, value) {
            var provinsi_id;
            var kotkab_id;
            $("#provinsi").append('<option rel="' + index + '" value="'+value.id+'">'+value.name+'</option>');
            $("#provinsi").change(function () {
                $("#kotkab, #kecamatan").find("option:gt(0)").remove();
                $("#kotkab").find("option:first").text("- Pilih Kota / Kabupaten -");
                provinsi_id = $(this).find('option:selected').attr('rel');
                $.each(myJson.provinsi[provinsi_id].kotkab, function (index1, value1) {
                    $('#detailbiaya').show();
                    $('#detailbiaya2').show();
                    if (id === "1") {if (provinsi_id === "0"){
                            var ongkir = 65000;
                        } else if (provinsi_id === "1"){
                            var ongkir = 35000;
                        } else if (provinsi_id === "2"){
                            var ongkir = 13000;
                        } else if (provinsi_id === "3"){
                            var ongkir = 46000;
                        } else if (provinsi_id === "4"){
                            var ongkir = 10000;
                        } else if (provinsi_id === "5"){
                            var ongkir = 72000;
                        } else if (provinsi_id === "6"){
                            var ongkir = 42000;
                        } else if (provinsi_id === "7"){
                            var ongkir = 15000;
                        } else if (provinsi_id === "8"){
                            var ongkir = 25000;
                        } else if (provinsi_id === "9"){
                            var ongkir = 30000;
                        } else if (provinsi_id === "10"){
                            var ongkir = 51000;
                        } else if (provinsi_id === "11"){
                            var ongkir = 58000;
                        } else if (provinsi_id === "12"){
                            var ongkir = 58000;
                        } else if (provinsi_id === "13"){
                            var ongkir = 70000;
                        } else if (provinsi_id === "14"){
                            var ongkir = 80000;
                        } else if (provinsi_id === "15"){
                            var ongkir = 40000;
                        } else if (provinsi_id === "16"){
                            var ongkir = 58000;
                        } else if (provinsi_id === "17"){
                            var ongkir = 35000;
                        } else if (provinsi_id === "18"){
                            var ongkir = 125000;
                        } else if (provinsi_id === "19"){
                            var ongkir = 100000;
                        } else if (provinsi_id === "20"){
                            var ongkir = 50000;
                        } else if (provinsi_id === "21"){
                            var ongkir = 82000;
                        } else if (provinsi_id === "22"){
                            var ongkir = 140000;
                        } else if (provinsi_id === "23"){
                            var ongkir = 122000;
                        } else if (provinsi_id === "24"){
                            var ongkir = 45000;
                        } else if (provinsi_id === "25"){
                            var ongkir = 55000;
                        } else if (provinsi_id === "26"){
                            var ongkir = 54000;
                        } else if (provinsi_id === "27"){
                            var ongkir = 72000;
                        } else if (provinsi_id === "28"){
                            var ongkir = 69000;
                        } else if (provinsi_id === "29"){
                            var ongkir = 69000;
                        } else if (provinsi_id === "30"){
                            var ongkir = 47000;
                        } else if (provinsi_id === "31"){
                            var ongkir = 33000;
                        } else if (provinsi_id === "32"){
                            var ongkir = 47000;
                        } else if (provinsi_id === "33"){
                            var ongkir = 25000;
                        }
                        document.getElementById("ongkir_id").innerHTML = "<b>"+formatter.format(ongkir)+"</b>";
                        document.getElementById("totalpembayaran").innerHTML = "<b>"+formatter.format(ongkir+hrg)+"</b>";
                        document.getElementById("hongkir").value = ongkir;
                    } else {
                        document.getElementById("ongkir_id").innerHTML = "<b>GRATIS</b>";
                        document.getElementById("totalpembayaran").innerHTML = "<b>"+formatter.format(hrg)+"</b>";
                        document.getElementById("hongkir").value = 0;

                    }
                    $("#kotkab").find("option:first").text("- Pilih Kota / Kabupaten -");
                    $("#kotkab").append('<option rel="' + index1 + '"  ="'+value1.id+'">'+value1.name+'</option>');
                });
            });
            $("#kotkab").change(function () {
                $("#kecamatan").find("option:gt(0)").remove();
                $("#kecamatan").find("option:first").text("- Pilih Kecamatan -");
                kotkab_id = $(this).find('option:selected').attr('rel');
                $.each(myJson.provinsi[provinsi_id].kotkab[kotkab_id].kecamatan, function (index2, value2) {
                    $("#kecamatan").find("option:first").text("- Pilih Kecamatan -");
                    $("#kecamatan").append('<option rel="' + index2 + '" value="'+value2.id+'">'+value2.name+'</option>');
                });
            });     
        });
        document.getElementById("prov").innerHTML = provinsi_id;

    </script>
<!-- Histats.com  START  (aync)-->
<script type="text/javascript">var _Hasync= _Hasync|| [];
    _Hasync.push(['Histats.start', '1,4716954,4,0,0,0,00010000']);
    _Hasync.push(['Histats.fasi', '1']);
    _Hasync.push(['Histats.track_hits', '']);
    (function() {
    var hs = document.createElement('script'); hs.type = 'text/javascript'; hs.async = true;
    hs.src = ('//s10.histats.com/js15_as.js');
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(hs);
    })();
    </script>
    <noscript><a href="/" target="_blank"><img  src="//sstatic1.histats.com/0.gif?4716954&101" alt="" border="0"></a></noscript>
<!-- Histats.com  END  -->
</body>
</html>